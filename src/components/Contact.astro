<div class="max-w-sm mx-auto">
  <form
    class="space-y-4"
    @submit="submitForm"
    action="https://formspree.io/f/mdoqzwzn"
    method="POST"
  >
    <div>
      <label
        for="name"
        class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
      ></label>
      <input
        type="text"
        id="name"
        name="name"
        class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 dark:placeholder-gray-400"
        placeholder="Nombre"
        required
      />
    </div>
    <div>
      <label
        for="email"
        class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
      ></label>
      <input
        type="email"
        id="email"
        name="email"
        class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 dark:placeholder-gray-400"
        placeholder="Correo"
        required
      />
    </div>
    <div>
      <label
        for="message"
        class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
      ></label>
      <textarea
        id="message"
        name="message"
        rows="4"
        class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
        placeholder="Mensaje"
        required></textarea>
    </div>
    <div>
      <button
        type="submit"
        class="rounded-full border border-white/10 flex justify-center items-center gap-x-2 py-2 px-3 text-xs lg:text-base bg-white/5 hover:scale-110 hover:bg-white/10 transition text-blue-200/90 dark:text-gray-500"
        >Enviar Mensaje</button
      >
    </div>
  </form>
</div>

<script>
export default {
  methods: {
    submitForm(event: Event) {
      event.preventDefault();
      const form = event.target as HTMLFormElement;
      const nameInput = form.elements.namedItem('name') as HTMLInputElement;
      const emailInput = form.elements.namedItem('email') as HTMLInputElement;
      const messageInput = form.elements.namedItem('message') as HTMLTextAreaElement;

      if (nameInput && emailInput && messageInput) {
        const name = nameInput.value;
        const email = emailInput.value;
        const message = messageInput.value;
        const recipientEmail = "matiaswyso@gmail.com"; // Email al que se enviar√° el mensaje
        const subject = "Mensaje de " + name;
        const body =
          "Nombre: " +
          name +
          "%0D%0ACorreo: " +
          email +
          "%0D%0A%0D%0AMensaje: " +
          message;
        window.open(
          "mailto:" + recipientEmail + "?subject=" + subject + "&body=" + body
        );
      } else {
        console.error("No se encontraron los elementos del formulario");
      }
    },
  },
};
</script>